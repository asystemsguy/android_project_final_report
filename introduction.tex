%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\label{intro}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



Battery-driven devices such as smartphones, tablets and wearables are now commonplace in our lives. Android has become one of the dominant mobile platforms used in these devices. Android app repositories, such as Google Play, have created a fundamental shift in the way software is delivered to consumers, with thousands of apps added and updated on a daily basis. Various mobile app markets offer a wide range of apps from entertainment, business, health care and social life. Mobile phones today are filled with a large number of apps. Market studies indicated that average android user contains 35 apps in their smart phone~\cite{thinkwithgoogle}. 

The capability of the smartphones has been increasing due to the improvement in computation power and increasing number of sensors embedded in them. In the meantime, modern mobile applications targeted for the smartphones make use of more computation and sensors to give users more features for improved user experiences and as an effect consume more power. From a user’s perspective, this produces tangible and pertinent problems. The use of energy-draining apps could quickly leave a user with an empty battery and prevent using the Smartphone even for basic features such as phone calls. In addition, having and running such apps might require frequent battery re-charges. This represents a problem as modern battery’s life is quite limited, often to a finite amount of charging cycles (for Lithium-ion batteries), ranging between 300 and 500 cycles (with only 100-200 cycles after a mid-life point) and gradually decreasing with time~\cite{linares2014mining}. The expected lifetime of the system is an important factor in the total user experience ~\cite{kim2013event} ~\cite{li2013energy}

%edit and citation required
The usefulness of smartphone is now limited by the capacity of the battery. The energy density of lithium-ion batteries used in smartphones has only grown by four times since 1991~\cite{janek2016solid} which is not in proportion with increasing rate of battery consumptions by the hardware and software component on the mobile and this not expected to grow any faster in near future. To close this gap, there have been several efforts from the researchers in academia and industry at different layers of abstraction i.e. hardware, operating system, applications and human interactions to use the energy efficiently. Offloading computation intensive tasks from mobile devices to cloud to save energy consumption on the battery have been found to be successful~\cite{lai2017furion} ~\cite{boos2016flashback}. Though all these optimizations are done in the interests of users however user preference has not been taken into consideration.
 
 
Android OS introduced new features such as Doze, Standby modes, background service execution limit etc. to optimize the battery life. In Doze mode, the system attempts to conserve battery by restricting apps' access to network and CPU-intensive services. It also prevents apps from accessing the network and defers their jobs, syncs, and standard alarms. In-App Standby mode, network access is restricted and pending syncs and jobs are deferred for unused applications. In the recent Android OS update to 8.0, the system places restrictions on the app running in the background. A lot of effort has been put in attributing expended system energy to apps~\cite{pathak2012energy}~\cite{yoon2012appscope}~\cite{zhang2010accurate}. This has helped the app developers in the spotting energy bugs, hotspots\cite{banerjee2014detecting} and insights like batching network operations~\cite{pathak2012energy} to optimize energy usage and motivated them to develop energy efficient apps. OS treats all the app fairly but a user might have the different preferences for different apps as per their need. Such applications may be apps that provide basic functionality such as dial pad or safety critical apps such as healthcare apps or financial applications.
 
Current energy management techniques in android give a little scope for energy control of applications based on user preferences. Though many apps are installed in a phone, research on usage patterns of mobile applications in general media~\cite{techcrunch85}~\cite{techcrunch63} suggests that users use only a few apps frequently. These important set of applications have high priority from user's perspective. But remaining apps installed on the phone also consume energy for background process such as ads~\cite{stevens2012investigating} and for sophisticated functionality such as sensors.  But in today's Android system, there is no feature to give priorities for certain apps and restrict power consumption by other less important apps. 

In this work, we present an Android-based framework called EnergyMAC (Energy-based Mandatory Access Control) which is user-centric energy management framework for controlling energy usage by the Android applications as per the user preference.  

Later in the report, in section ~\ref{motivation}, we present problem solved in this project, different stakeholders and important system requirements. In section ~\ref{solution}, we present system design and how it satisfies system requirements. In section ~\ref{impl}, we present detailed architecture of our implemented system.  Section ~\ref{evaluation} talks about evaluation approach. Section ~\ref{related} talks about related work and how we are different. Finally, we will end the report by describing lessons learnt, next steps and constributions of each team member.

